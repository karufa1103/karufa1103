<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
    </head>
    <body>
        <canvas id="a_canvas" width="300" height="300"></canvas>
        <script type="text/javascript">
        
        var canvas = document.getElementById("a_canvas");
        var ctx = canvas.getContext("2d");
        setInterval(drawClock,500);
        //clock
        function drawClock(){
            //canvas clear
            ctx.clearRect(0,0,300,300);
            //clock background sircle
            ctx.fillStyle = "black";
            ctx.beginPath();
            ctx.arc(150,150,145,0,2*Math.PI);
            ctx.fill();
            var t = new Date();
            var hour = t.getHours()%12;
            var min  = t.getMinutes();
            var sec  = t.getSeconds();
            drawLine(hour/12*360,70,15);
            drawLine(min/60*360,110,8);
            drawLine(sec/60*360,140,2);
        }
        //Line 
        function drawLine(deg,width,height){
            ctx.save();
            ctx.translate(150,150); //中心に移動させる
            deg -= 90;
            var rad = deg * Math.PI / 180;
            ctx.rotate(rad);
            ctx.fillStyle = "white";
            ctx.fillRect(0,0,width,height);
            ctx.restore();
        }
        </script>


    </body>
</html>
